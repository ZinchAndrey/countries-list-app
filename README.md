# countries-list-app

Как избежать того, что при разработке постоянно запросы на сервер летят по загрузке данных?
Я сделал проверку в хуке `created()` и смотрю значение переменной `countriesWasLoaded`


Option-ы select-а можно хардкодить или же нужно из запроса на сервер их брать?


Очень долго провозился с тем, что в библиотеке vue-select нормально не работало событие input. Хотя в доке написано что оно работает.
https://github.com/sagalbot/vue-select/issues/1251#issuecomment-1023408820
Не до конца понял, но вроде как теперь всегда в v-model эмиттится событие update:modelValue, а входным параметром является modelValue



1. **Фильтрация**  
Выбранное значение региона я выношу во Vuex, чтобы проще было общаться компонентам.  
По такой же логике я работаю со строкой поиска. То есть при инпуте в строку поиска, я записываю текущее значение строки поиска во Vuex и на ее основании также фильтрую  
1.2 В целом норм ли такая концепция в части поиска?  
1.3 Корректно ли я ее использую в CountrySearch.vue ? Смущает то, что там у меня и v-model, и @input

----
2. **Список свойств**  
На странице с детальной информацией внутри списка `.country__description-list` я очень банально действую - создаю элементы списка без какой-либо автоматизации.Корректно ли это? 
Циклом тут не получится насколько я понимаю, так как важен порядок и нужны не все свойства страны.
Еще как вариант сделать мини-компонент, в который можно будет передавать название свойства и значение, но мне кажется это усложнение в данном случае.
Подскажи, я корректно рассуждаю?
------

3. **Ссылка на главную**  
В header-е есть ссылка на главную страницу.
Как сделать так, чтобы не перезагружалась страница с новым запросом на сервер, а как бы назад переход был без запроса на сервер, ведь возможно уже в сторе есть все необходимые данные. Как при клике кнопки "back", например.  
Понятное дело, что через `this.$router.back()` нельзя действовать, так как мы можем не с главное страницы попасть на страницу с детальной информацией о стране.

------
4. **Темная тема**   
Впервые делал подобное) Корректна ли моя концепция, что мы на `body` вешаем класс определенный в зависимости от того, какая тема, а также в зависимости от этого определяем значения переменных с цветами фонов и шрифтов?
Храню значение текущей темы я в `store`

----
5. **Сохранение поля ввода**  
Чтобы сохранять значение инпутов фильтра и поиска при переходе назад (со страницы страны), я обернул компонент `<country-header>` в `<keep-alive>`, но это не помогло, поле поиска все равно пустое при переходе назад, а листинг стран отображается так, как будто поле не пустое.  Подскажи, как с этим быть?

------
6. **Получение детальной информации о стране**  
Вопрос по странице `CountryDetail.vue`
При обновлении страницы у нас пустой `store` и соответственно нет данных по стране. Их надо получить.
И вот тут я немножко запутался с тем, как правильно концептуально это делать.
В итоге я сделал так, чтобы просто работало, в надежде, что ты поправишь меня.
Сейчас я просто внутри компонента страницы `CountryDetail.vue` проверяю, есть ли в `store` массив `countries` и если нет, вызываю action с фетчом по загрузке данных обо ВСЕХ странах (эта функция на главной тоже вызывается и я ее просто переиспользую).
Корректно ли это?*
Кажется, что все же правильнее загружать информацию только о конкретной стране, на странице которой мы находимся.
Но если так, возникает ряд вопросов:  
6.1. Где я должен использовать `fetch` - непосредственно внутри компонента или внутри `store`?  
6.2. Где я должен хранить данные о стране - внутри компонента или в `store`?
Не могу понять как концептуально правильнее...
